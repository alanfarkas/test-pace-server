<?xml version="1.0" encoding="UTF-8"?>
<!-- WARNING: Eclipse auto-generated file.
              Any modifications will be overwritten.
              To include a user specific buildfile here, simply create one in the same
              directory with the processing instruction <?eclipse.ant.import?>
              as the first entry and export the buildfile again. -->
<project basedir="." default="build" name="PafServer">
    <property environment="env"/>
    <property name="ECLIPSE_HOME" value="c:/eclipse/eclipse322"/>
    <property name="JUNIT_HOME" value="c:/eclipse/eclipse322/plugins/org.junit_3.8.1"/>
    <property name="Paf Base Libraries.location" value="../Paf Base Libraries"/>
    <property name="Essbase Provider.location" value="../Essbase Provider"/>
    <property name="PafCustomCommands.location" value="../PafCustomCommands"/>
    <property name="PafCustomFunctions.location" value="../PafCustomFunctions"/>
    <property name="debuglevel" value="source,lines,vars"/>
    <property name="target" value="1.5"/>
    <property name="source" value="1.5"/>
	
    <property name="reports.junit.data" value="target/test-results" />
    <property name="bin" value="WebRoot\WEB-INF\classes" />	
	
    <path id="XStream 1.1.2.userclasspath">
        <pathelement location="c:/java/userlib/xstream-1.1.2/xstream-1.1.2/xstream-1.1.2.jar"/>
        <pathelement location="c:/java/userlib/xstream-1.1.2/xstream-1.1.2/lib/xpp3-1.1.3.4d_b4_min.jar"/>
    </path>
    <path id="Jep.userclasspath">
        <pathelement location="c:/java/userlib/Jep/dist/jep-2.4.0.jar"/>
        <pathelement location="c:/java/userlib/Jep/dist/ext-1.1.0.jar"/>
    </path>
    <path id="Log4j 1.2.9.userclasspath">
        <pathelement location="c:/java/userlib/log4j 1.2.9/dist/lib/log4j-1.2.9.jar"/>
    </path>
    <path id="LdapBp 1.0.userclasspath">
        <pathelement location="c:/java/userlib/ldapbp 1.0/lib/ldapbp.jar"/>
    </path>
    <path id="Derby 10.2.2.userclasspath">
        <pathelement location="c:/java/userlib/Derby 10.2.2/lib/derby.jar"/>
        <pathelement location="c:/java/userlib/Derby 10.2.2/lib/derbyclient.jar"/>
        <pathelement location="c:/java/userlib/Derby 10.2.2/lib/derbynet.jar"/>
        <pathelement location="c:/java/userlib/Derby 10.2.2/lib/derbyrun.jar"/>
        <pathelement location="c:/java/userlib/Derby 10.2.2/lib/derbytools.jar"/>
    </path>
    <path id="Spring 2.0.7.userclasspath">
        <pathelement location="c:/java/userlib/spring-framework-2.0.7/dist/spring.jar"/>
    </path>
    <path id="JUnit 4.libraryclasspath">
        <pathelement location="${ECLIPSE_HOME}/plugins/org.junit4_4.1.0.1/junit-4.1.jar"/>
    </path>
    <path id="Hibernate 3.2.userclasspath">
        <pathelement location="c:/java/userlib/hibernate-3.2/hibernate3.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/ant-1.6.5.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/ant-antlr-1.6.5.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/ant-junit-1.6.5.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/ant-launcher-1.6.5.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/antlr-2.7.6.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/ant-swing-1.6.5.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/asm.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/asm-attrs.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/c3p0-0.9.1.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/cglib-2.1.3.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/checkstyle-all.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/cleanimports.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/commons-collections-2.1.1.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/commons-logging-1.0.4.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/concurrent-1.3.2.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/connector.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/dom4j-1.6.1.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/ehcache-1.2.3.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jaas.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jacc-1_0-fr.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/javassist.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jaxen-1.1-beta-7.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jboss-cache.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jboss-common.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jboss-jmx.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jboss-system.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jdbc2_0-stdext.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jgroups-2.2.8.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/jta.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/junit-3.8.1.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/log4j-1.2.11.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/oscache-2.1.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/proxool-0.8.3.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/swarmcache-1.0rc2.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/syndiag2.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/versioncheck.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/xerces-2.6.2.jar"/>
        <pathelement location="c:/java/userlib/hibernate-3.2/lib/xml-apis.jar"/>    	
    </path>
	<path id="CXF 2.2.5.userclasspath">
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/abdera-core-0.4.0-incubating.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/abdera-extensions-json-0.4.0-incubating.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/abdera-extensions-main-0.4.0-incubating.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/abdera-i18n-0.4.0-incubating.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/abdera-parser-0.4.0-incubating.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/ant-1.6.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/antlr-2.7.7.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/aopalliance-1.0.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/asm-2.2.3.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/axiom-api-1.2.7.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/axiom-impl-1.2.7.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/bcprov-jdk15-1.43.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/commons-codec-1.3.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/commons-collections-3.2.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/commons-lang-2.4.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/commons-logging-1.1.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/commons-pool-1.5.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/cxf-2.2.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/cxf-manifest.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/FastInfoset-1.2.7.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-activation_1.1_spec-1.0.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-annotation_1.0_spec-1.1.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-javamail_1.4_spec-1.6.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-jaxws_2.1_spec-1.0.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-jms_1.1_spec-1.1.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-servlet_2.5_spec-1.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-stax-api_1.0_spec-1.0.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/geronimo-ws-metadata_2.0_spec-1.1.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jaxb-api-2.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jaxb-impl-2.1.12.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jaxb-xjc-2.1.12.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jaxen-1.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jettison-1.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jetty-6.1.21.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jetty-util-6.1.21.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jra-1.0-alpha-4.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/js-1.7R1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/jsr311-api-1.0.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/neethi-2.0.4.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/oro-2.0.8.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/saaj-api-1.3.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/saaj-impl-1.3.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/serializer-2.7.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/slf4j-api-1.5.8.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/slf4j-jdk14-1.5.8.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-beans-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-context-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-context-support-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-core-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-jms-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-tx-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/spring-web-2.5.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/velocity-1.6.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/wsdl4j-1.6.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/wss4j-1.5.8.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/wstx-asl-3.2.9.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/xalan-2.7.1.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/xmlbeans-2.4.0.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/xml-resolver-1.2.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/XmlSchema-1.4.5.jar"/>
        <pathelement location="c:/java/userlib/apache-cxf-2.2.5/lib/xmlsec-1.4.3.jar"/>
    </path>    
    <path id="Ostermiller Utils 1.6.0.userclasspath">
        <pathelement location="c:/java/userlib/ostermillerutils-1.6.0/ostermillerutils_1_06_00.jar"/>
    </path>
    <path id="melibrary.com.genuitec.eclipse.j2eedt.core.MYECLIPSE_JAVAEE_5_CONTAINER.libraryclasspath"/>
    <path id="EDS 9.3.userclasspath">
        <pathelement location="c:/java/userlib/EDS 9.3/ess_japi.jar"/>
    </path>
    <path id="JavaMail.userclasspath">
        <pathelement location="c:/java/userlib/JavaMail/smtp.jar"/>
        <pathelement location="c:/java/userlib/JavaMail/activation.jar"/>
        <pathelement location="c:/java/userlib/JavaMail/mailapi.jar"/>
    </path>
    <path id="Hibernate Annotations 3.3.userclasspath">
        <pathelement location="c:/java/userlib/hibernate-annotations-3.3/hibernate-annotations.jar"/>
        <pathelement location="c:/java/userlib/hibernate-annotations-3.3/lib/ejb3-persistence.jar"/>
        <pathelement location="c:/java/userlib/hibernate-annotations-3.3/lib/hibernate-commons-annotations.jar"/>
    </path>
    <path id="Paf Base Libraries.classpath">
        <pathelement location="${Paf Base Libraries.location}/bin"/>
        <path refid="XStream 1.1.2.userclasspath"/>
        <path refid="Hibernate 3.2.userclasspath"/>
        <path refid="EDS 9.3.userclasspath"/>
        <pathelement location="${JUNIT_HOME}/junit.jar"/>
        <path refid="JavaMail.userclasspath"/>
        <path refid="Jep.userclasspath"/>
        <path refid="Log4j 1.2.9.userclasspath"/>
        <path refid="Hibernate Annotations 3.3.userclasspath"/>
    </path>
    <path id="Essbase Provider.classpath">
        <pathelement location="${Essbase Provider.location}/bin"/>
        <pathelement location="${JUNIT_HOME}/junit.jar"/>
        <path refid="Log4j 1.2.9.userclasspath"/>
        <path refid="Paf Base Libraries.classpath"/>
        <path refid="EDS 9.3.userclasspath"/>
    </path>
    <path id="PafCustomCommands.classpath">
        <pathelement location="${PafCustomCommands.location}/bin"/>
        <pathelement location="${JUNIT_HOME}/junit.jar"/>
        <path refid="Log4j 1.2.9.userclasspath"/>
        <path refid="Paf Base Libraries.classpath"/>
        <path refid="Essbase Provider.classpath"/>
    </path>
    <path id="PafCustomFunctions.classpath">
        <path refid="Paf Base Libraries.classpath"/>
        <pathelement location="${PafCustomFunctions.location}/bin"/>
        <path refid="Log4j 1.2.9.userclasspath"/>
        <path refid="Essbase Provider.classpath"/>
        <pathelement location="${JUNIT_HOME}/junit.jar"/>
    </path>
    <path id="PafServer.classpath">
        <pathelement location="WebRoot/WEB-INF/classes"/>
        <path refid="XStream 1.1.2.userclasspath"/>
        <path refid="Jep.userclasspath"/>
        <path refid="Log4j 1.2.9.userclasspath"/>
        <path refid="LdapBp 1.0.userclasspath"/>
        <path refid="Derby 10.2.2.userclasspath"/>
        <path refid="Spring 2.0.7.userclasspath"/>
        <path refid="JUnit 4.libraryclasspath"/>
        <path refid="Hibernate 3.2.userclasspath"/>
        <path refid="CXF 2.2.5.userclasspath"/>
        <path refid="Ostermiller Utils 1.6.0.userclasspath"/>
        <path refid="melibrary.com.genuitec.eclipse.j2eedt.core.MYECLIPSE_JAVAEE_5_CONTAINER.libraryclasspath"/>
        <path refid="Essbase Provider.classpath"/>
        <path refid="Paf Base Libraries.classpath"/>
        <path refid="PafCustomCommands.classpath"/>
        <path refid="PafCustomFunctions.classpath"/>
    </path>
    <target name="init">
        <mkdir dir="WebRoot/WEB-INF/classes"/>
        <copy includeemptydirs="false" todir="WebRoot/WEB-INF/classes">
            <fileset dir="src" excludes="**/*.launch, **/*.java"/>
        </copy>
    </target>
    <target name="clean">
        <delete dir="WebRoot/WEB-INF/classes"/>
    </target>
    <target depends="clean" name="cleanall">
        <ant antfile="${Paf Base Libraries.location}/build-cc.xml" inheritAll="false" target="clean"/>
        <ant antfile="${Essbase Provider.location}/build-cc.xml" inheritAll="false" target="clean"/>
        <ant antfile="${PafCustomCommands.location}/build-cc.xml" inheritAll="false" target="clean"/>
        <ant antfile="${PafCustomFunctions.location}/build-cc.xml" inheritAll="false" target="clean"/>
    </target>
    <target depends="build-project, test" name="build"/>
 
    <target depends="init" name="build-project">
        <echo message="${ant.project.name}: ${ant.file}"/>
        <javac debug="true" debuglevel="${debuglevel}" destdir="WebRoot/WEB-INF/classes" source="${source}" target="${target}">
            <src path="src"/>
            <classpath refid="PafServer.classpath"/>
        </javac>
    </target>
    <target description="Build all projects which reference this project. Useful to propagate changes." name="build-refprojects"/>
    <target description="copy Eclipse compiler jars to ant lib directory" name="init-eclipse-compiler">
        <copy todir="${ant.library.dir}">
            <fileset dir="${ECLIPSE_HOME}/plugins" includes="org.eclipse.jdt.core_*.jar"/>
        </copy>
        <unzip dest="${ant.library.dir}">
            <patternset includes="jdtCompilerAdapter.jar"/>
            <fileset dir="${ECLIPSE_HOME}/plugins" includes="org.eclipse.jdt.core_*.jar"/>
        </unzip>
    </target>
    <target description="compile project with Eclipse compiler" name="build-eclipse-compiler">
        <property name="build.compiler" value="org.eclipse.jdt.core.JDTCompilerAdapter"/>
        <antcall target="build"/>
    </target>
	
	<target name="test" depends="build-project">
	        <delete dir="${reports.junit.data}" failonerror="false" />
	        <mkdir dir="${reports.junit.data}"/>
	        <junit haltonfailure="no" failureproperty="junit_test_failed" printsummary="on">
			<classpath refid="PafServer.classpath" />
	            <formatter type="brief" usefile="false"/>
	            <formatter type="xml" />
	            <batchtest todir="${reports.junit.data}" >
	                <fileset dir="${bin}" includes="**/PafCellNoteManagerTest.class"/>
	            </batchtest>
	        </junit>
	    	<fail if="junit_test_failed" message="One or more JUnit  tests failed"/>        	
	 </target>	
</project>
